{
  "model": "opus",
  "alwaysThinkingEnabled": true,
  "env": {
    "MAX_THINKING_TOKENS": "64000",
    "CLAUDE_CODE_SUBAGENT_MODEL": "opus"
  },
  "defaultMode": "plan",
  "disableBypassPermissionsMode": true,
  "cleanupPeriodDays": 90,
  "includeCoAuthoredBy": false,
  "additionalDirectories": [
    "~/.dotfiles",
    "~/Projects",
    "/data"
  ],
  "statusLine": {
    "type": "command",
    "command": "uv run --project $HOME/.claude/statusline statusline"
  },
  "sandbox": {
    "enabled": false,
    "excludedCommands": ["git", "docker", "ssh", "scp"],
    "network": {
      "allowLocalBinding": true,
      "allowUnixSockets": ["/var/run/docker.sock"]
    }
  },
  "permissions": {
    "allow": [
      "Read(**)",
      "Glob(**)",
      "Grep(**)",
      "Bash(uv run:*)",
      "Bash(uv pip:*)",
      "Bash(uv sync:*)",
      "Bash(uv build:*)",
      "Bash(npm run test:*)",
      "Bash(npm run build:*)",
      "Bash(npm test:*)",
      "Bash(pnpm run test:*)",
      "Bash(pnpm run build:*)",
      "Bash(pnpm test:*)",
      "Bash(cargo test:*)",
      "Bash(cargo build:*)",
      "Bash(cargo run:*)",
      "Bash(cargo check:*)",
      "Bash(cargo fmt:*)",
      "Bash(cargo clippy:*)",
      "Bash(git status:*)",
      "Bash(git diff:*)",
      "Bash(git log:*)",
      "Bash(git branch:*)",
      "Bash(git show:*)",
      "Bash(git remote:*)",
      "Bash(pytest:*)",
      "Bash(python -m pytest:*)",
      "Bash(ruff check:*)",
      "Bash(ruff format:*)",
      "Bash(mypy:*)",
      "Bash(pyright:*)",
      "Bash(prettier:*)",
      "Bash(eslint:*)",
      "Bash(tsc:*)",
      "Bash(rustfmt:*)",
      "WebFetch(domain:github.com)",
      "WebFetch(domain:*.github.com)",
      "WebFetch(domain:docs.python.org)",
      "WebFetch(domain:*.readthedocs.io)",
      "WebFetch(domain:pypi.org)",
      "WebFetch(domain:crates.io)",
      "WebFetch(domain:docs.rs)",
      "WebFetch(domain:npmjs.com)",
      "WebFetch(domain:anthropic.com)",
      "WebFetch(domain:*.anthropic.com)",
      "WebFetch(domain:huggingface.co)",
      "WebFetch(domain:*.huggingface.co)",
      "WebFetch(domain:jax.readthedocs.io)",
      "WebFetch(domain:flax.readthedocs.io)",
      "WebFetch(domain:optax.readthedocs.io)",
      "WebFetch(domain:arxiv.org)",
      "WebFetch(domain:stackoverflow.com)",
      "WebFetch(domain:developer.mozilla.org)",
      "WebFetch(domain:rust-lang.org)",
      "WebFetch(domain:*.rust-lang.org)",
      "WebFetch(domain:pytorch.org)",
      "WebFetch(domain:tensorflow.org)",
      "WebFetch(domain:numpy.org)",
      "WebFetch(domain:pandas.pydata.org)",
      "WebFetch(domain:scikit-learn.org)",
      "WebFetch(domain:openai.com)",
      "WebFetch(domain:*.openai.com)",
      "WebFetch(domain:google.com)",
      "WebFetch(domain:*.google.com)",
      "WebFetch(domain:microsoft.com)",
      "WebFetch(domain:*.microsoft.com)",
      "WebFetch(domain:apple.com)",
      "WebFetch(domain:*.apple.com)",
      "WebFetch(domain:aws.amazon.com)",
      "WebFetch(domain:cloud.google.com)"
    ],
    "deny": [
      "Bash(sudo:*)",
      "Bash(su:*)",
      "Bash(rm -rf:*)",
      "Bash(rm -r -f:*)",
      "Bash(chmod 777:*)",
      "Bash(chmod -R 777:*)"
    ]
  },
  "enableAllProjectMcpServers": false,
  "enabledMcpjsonServers": ["context7"],
  "hooks": {
    "UserPromptSubmit": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "$HOME/.claude/hooks/inject-context.sh",
            "timeout": 5
          },
          {
            "type": "command",
            "command": "$HOME/.claude/hooks/context7-docs.sh",
            "timeout": 5
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "$HOME/.claude/hooks/protect-files.sh",
            "timeout": 5
          },
          {
            "type": "command",
            "command": "$HOME/.claude/hooks/large-file-check.sh",
            "timeout": 5
          },
          {
            "type": "command",
            "command": "$HOME/.claude/hooks/git-status-check.sh",
            "timeout": 5
          },
          {
            "type": "command",
            "command": "$HOME/.claude/hooks/context7-docs.sh",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "$HOME/.claude/hooks/dangerous-command.sh",
            "timeout": 5
          },
          {
            "type": "command",
            "command": "$HOME/.claude/hooks/validate-commit.sh",
            "timeout": 5
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "$HOME/.claude/hooks/format-on-save.sh",
            "timeout": 30
          },
          {
            "type": "command",
            "command": "$HOME/.claude/hooks/typecheck.sh",
            "timeout": 60
          },
          {
            "type": "command",
            "command": "$HOME/.claude/hooks/jax-shape-check.sh",
            "timeout": 30
          },
          {
            "type": "command",
            "command": "$HOME/.claude/hooks/docstring-check.sh",
            "timeout": 10
          },
          {
            "type": "command",
            "command": "$HOME/.claude/hooks/todo-tracker.sh",
            "timeout": 5
          },
          {
            "type": "command",
            "command": "$HOME/.claude/hooks/import-cycle-check.sh",
            "timeout": 30
          },
          {
            "type": "command",
            "command": "$HOME/.claude/hooks/session-logger.sh",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "Bash|Read|Glob|Grep",
        "hooks": [
          {
            "type": "command",
            "command": "$HOME/.claude/hooks/session-logger.sh",
            "timeout": 5
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "$HOME/.claude/hooks/notify-done.sh",
            "timeout": 10
          }
        ]
      }
    ]
  }
}
